## 飞行大战（pygame）

一个使用 `pygame` 编写的纵版射击小游戏，支持英雄飞机移动/射击、多敌机生成与不同波次刷新、生命值与得分系统、子弹碰撞判定、爆炸动画和素材集中管理。项目遵循 PEP 20 “The Zen of Python” 所倡导的清晰、模块化设计，核心逻辑拆分在 `game/` 包中，便于维护与扩展。

### 功能概览
- **英雄飞机**：左右移动、发射子弹，拥有5点生命值，被击中后扣1点生命值，生命值为0时播放爆炸动画并结束游戏。
- **敌机体系**：支持同屏多敌机生成（最多3架），按不同波次随机刷新3种不同类型敌机，每种敌机有不同的速度、射击频率和生命值。
- **得分系统**：击毁不同类型敌机获得不同分数（10/20/30分），屏幕右上角显示当前得分。
- **生命值系统**：英雄飞机初始5点生命值，被敌机子弹击中扣1点，屏幕左上角显示当前生命值。
- **碰撞与反馈**：子弹击中敌机扣血，敌机生命值耗尽触发爆炸动画；敌机子弹击中英雄扣血，生命值归零触发失败。
- **资源管理**：`GameAssets` 集中加载图片素材和爆炸动画，减少重复 IO。
- **输入系统**：同时支持离散按键事件和持续按键状态，确保操作顺畅。
- **帧率稳定**：使用 delta time（dt）驱动移动，保持60 FPS稳定帧率。

### 环境要求
- Python 3.10+
- `pygame` >= 2.5

### 安装与运行
```bash
python -m venv .venv
source .venv/bin/activate          # Windows 使用 .venv\Scripts\activate
pip install pygame

python app.py
```

### 项目结构
```
airplane-game-master/
├── app.py                 # 入口：初始化、主循环
├── game/
│   ├── __init__.py
│   ├── assets.py          # 素材加载
│   ├── constants.py       # 全局常量
│   ├── hero.py            # 英雄飞机
│   ├── enemy.py           # 敌机逻辑
│   ├── bullet.py          # 子弹实体
│   ├── collision.py       # 碰撞处理
│   └── input_handler.py   # 键盘监听
└── feiji/                 # 游戏素材
```

### 操作说明
- `← / A`：向左移动
- `→ / D`：向右移动
- `Space`：发射子弹

### 操作说明
- `← / A`：向左移动
- `→ / D`：向右移动
- `Space`：发射子弹

### 游戏特色
- 3种不同类型敌机，具有不同的速度、射击频率和生命值
- 生命值与得分系统，实时显示在屏幕上
- 爆炸动画效果，增强游戏体验
- 稳定的60 FPS帧率，确保游戏流畅运行

### 后续计划
- 加入道具系统（如护盾、双发子弹、增加生命值等）
- 增加音效和背景音乐
- 实现关卡系统，不同关卡有不同的敌机配置和难度
- 加入暂停菜单和游戏结束界面
- 提供打包脚本（如 `pyinstaller`）方便发布

### 测试用例
1. **英雄飞机移动**：使用方向键或 A/D 键控制英雄飞机左右移动，确保移动范围限制在屏幕内
2. **子弹发射**：按下空格键发射子弹，确保子弹向上飞行并在飞出屏幕后消失
3. **敌机生成**：游戏开始后每隔一段时间生成一架新敌机，最多同时存在3架
4. **敌机移动与射击**：敌机水平往返移动并按概率发射子弹，确保不同类型敌机有不同的速度和射击频率
5. **碰撞检测**：英雄子弹击中敌机扣血，敌机生命值耗尽触发爆炸动画；敌机子弹击中英雄扣血，生命值归零触发失败
6. **得分系统**：击毁不同类型敌机获得相应分数，屏幕右上角实时更新
7. **生命值系统**：被敌机子弹击中扣1点生命值，屏幕左上角实时更新，生命值为0时游戏结束

欢迎基于当前模块化结构继续扩展玩法，如需帮助请随时提出！

